<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="LoÃ¯c Dutrieux, Jan Verbesselt, Johannes Eberenz" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
  
  <!-- bootstrap -->
  <!--<link href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet"  id="style">-->
  <script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
  
  <!-- highlight.js -->
  <!--<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/default.min.css" rel="stylesheet" id="code-style">-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/highlight.min.js"></script>
  <script>
  hljs.LANGUAGES.r=function(a){var b="([a-zA-Z]|\\.[a-zA-Z.])[a-zA-Z0-9._]*";return{c:[a.HCM,{b:b,l:b,k:{keyword:"function if in break next repeat else for return switch while try tryCatch|10 stop warning require library attach detach source setMethod setGeneric setGroupGeneric setClass ...|10",literal:"NULL NA TRUE FALSE T F Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10"},r:0},{cN:"number",b:"0[xX][0-9a-fA-F]+[Li]?\\b",r:0},{cN:"number",b:"\\d+(?:[eE][+\\-]?\\d*)?L\\b",r:0},{cN:"number",b:"\\d+\\.(?!\\d)(?:i\\b)?",r:0},{cN:"number",b:"\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",r:0},{b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[a.BE],r:0},{cN:"string",b:"'",e:"'",c:[a.BE],r:0}]}}(hljs); </script>
  <!--<script type="text/javascript", src="https://yandex.st/highlightjs/7.3/languages/r.min.js"></script>-->
  
  <!-- Manific Popup -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/0.8.9/jquery.magnific-popup.min.js"></script>
  
  <script type="text/javascript"
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script defer="defer">
  // Function to generate the dynamic table of contents
  jQuery.fn.generate_TOC = function () {
    var base = $(this[0]);
  
    var selectors = ['h1', 'h2', 'h3', 'h4'];
  
    var last_ptr = [{}, {}, {}, {}];
  
    var anchors = {};
  
    generate_anchor = function (text) {
      var test = text.replace(/\W/g, '_');
  
      while(test in anchors){
        //if no suffix, add one
        if(test.match(/_\d+$/) === null){
          test = test + "_2";
        }
        //else generate unique id for duplicates by adding one to the suffix
        else {
          test = test.replace(/_(\d+)$/, function(match, number){ var num=+number+1; return("_" + num) });
        }
      }
      anchors[test]=1;
      return(test);
    }
  
    $(selectors.join(',')).filter(function(index) { return $(this).parent().attr("id") != 'header'; }).each(function () {
  
      var heading = $(this);
      var idx = selectors.indexOf(heading.prop('tagName').toLowerCase());
      var itr = 0;
  
      while (itr <= idx) {
        if (jQuery.isEmptyObject(last_ptr[itr])) {
          last_ptr[itr] = $('<ul>').addClass('nav');
          if (itr === 0) {
            base.append(last_ptr[itr])
          } else {
            if(last_ptr[itr-1].children('li').length === 0){
              last_ptr[itr-1].append(last_ptr[itr]);
            }
            else {
              last_ptr[itr - 1].children('li').last().append(last_ptr[itr]);
            }
          }
        }
        itr++;
      }
      var anchor = generate_anchor(heading.text());
      heading.attr('id', anchor);
      var a = $('<a>')
      .text(heading.text())
      .attr('href', '#' + anchor);
  
    var li = $('<li>')
      .append(a);
  
    last_ptr[idx].append(li);
    for (i = idx + 1; i < last_ptr.length; i++) {
      last_ptr[i] = {};
    }
    });
  }
  /* run scripts when document is ready */
  $(function() {
    "use strict";
  
    var $window = $(window);
    var $body = $(document.body);
  
    /* size of thumbnails */
  
    var hidden_types = ['source']
    var output_types = ['output', 'message', 'warning', 'error']
  
    /* style tables */
    $('table').addClass('table table-striped table-bordered table-hover table-condensed');
  
    $('pre code').each(function(i, e) {
      hljs.highlightBlock(e);
    });
  
    /* Magnific Popup */
    $(".thumbnail").each(function(){
      $(this).magnificPopup({
        disableOn: 768,
        closeOnContentClick: true,
  
        type: 'image',
        items: {
          src: $(this).find('img').attr('src'),
        }
      });
    });
  
    function toggle_block(obj, show) {
      var span = obj.find('span');
      if(show === true){
        span.removeClass('glyphicon-chevron-up').addClass('glyphicon-chevron-down');
        obj.next('pre').slideDown();
      }
      else {
        span.removeClass('glyphicon-chevron-down').addClass('glyphicon-chevron-up');
        obj.next('pre').slideUp();
      }
    }
  
    function toggle_thumbnails(imgs, show){
      if(show === true){
        imgs.parents().show()
        imgs.slideDown();
      }
      else {
        imgs.slideUp(400, function(){ $(this).parent().hide(); });
      }
    }
  
    function global_toggle(obj){
      var type = obj.attr('type');
      var show = !obj.parent('li').hasClass('active');
      if(show === true){
        obj.parent('li').addClass('active');
      }
      else{
        obj.parent('li').removeClass('active');
      }
      if(type == 'figure'){
        toggle_thumbnails($('.thumbnail img'), show);
      }
      else {
        $('.toggle.' + type).each(function() { toggle_block($(this), show); });
      }
    }
  
    /* onclick toggle next code block */
    $('.toggle').click(function() {
      var span = $(this).find('span');
      toggle_block($(this), !span.hasClass('glyphicon-chevron-down'));
      return false
    })
  
    // global toggles
    $('.toggle-global').click(function(){
      var type = $(this).attr('type');
      if(type === 'all-source'){
          $('li a.source').each(function() {
            global_toggle($(this));
          });
        }
      else if(type === 'all-output'){
        $.each(output_types, function(i, val){
          console.log(val);
          global_toggle($('li a.' + val));
        });
      }
      else {
        console.log($(this));
        global_toggle($(this));
      }
      return false;
    });
    /* table of contents */
    if($(['h1', 'h2', 'h3', 'h4'].join(',')).length > 0){
      $('body > #wrap > .container > .row').append('<div class="col-md-2"><div id="toc" class="well sidebar sidenav affix hidden-print"/></div>');
      $('#toc').generate_TOC();
    }
  
    $.each(hidden_types, function(i, type) {
      $('li[type=' + type + ']').each(function(){ global_toggle($(this)); });
    });
  
    /* remove paragraphs with no content */
    $('p:empty').remove();
  
    $body.scrollspy({
      target: '.sidebar',
    });
  
    /* theme switch */
    $('.theme-switch').click(function(){
      var css = $('link[title=' + $(this).attr('title') + ']');
      $('#theme[rel=stylesheet]').attr('href', css.attr('href'));
      $('.theme-switch').closest('li').removeClass('active');
      $(this).closest('li').addClass('active');
      return false;
    });
    /* code style switch */ //TODO use same function for both of these?
    $('.highlight-switch').click(function(){
      var css = $('link[title="' + $(this).attr('title') + '"]');
      $('#highlight[rel=stylesheet]').attr('href', css.attr('href'));
      $('.highlight-switch').closest('li').removeClass('active');
      $(this).closest('li').addClass('active');
      return false;
    });
  
    //TODO refresh on show/hide
    $window.on('load', function () {
      $body.scrollspy('refresh');
    })
  
  });
  
  </script>
  <style>
  /* Knitr_bootstrap styles */
  #header {
    display: none !important;
    visibility: hidden !important;
  }
  #wrap .container-fluid {
    padding: 0;
    overflow: hidden;
  }
  .toggle{
    text-transform: capitalize;
  }
  
  .toggle-global{
    text-transform: capitalize;
  }
  
  /* Sticky footer styles */
  * {
    margin:0;
  }
  html,
  body {
      height: 100%;
      padding:0 !important;
      /* The html and body elements cannot have any padding or margin. */
      /*overflow-x: hidden;*/
  }
  
  /* Wrapper for page content to push down footer */
  #wrap {
      min-height: 100%;
      height: auto !important;
      height: 100%;
      /* Negative indent footer by it's height */
      margin: 0 auto -120px;
  }
  
  /* Set the fixed height of the footer here */
  #push,
  #footer {
      height: 120px;
  }
  
  #footer {
    text-align: center;
  }
  
  /* Top level subheader elements.  These are the first nested items underneath a header element. */
  .header li {
    font-size: 20px;
  }
  
  /* Makes the font smaller for all subheader elements. */
  .sub-header li {
      font-size: 12px;
  }
  
  button.thumbnails {
    margin-left:0px;
  }
  
  /*
   * Side navigation
   *
   * Scrollspy and affixed enhanced navigation to highlight sections and secondary
   * sections of docs content.
   */
  
  /* By default it's not affixed in mobile views, so undo that */
  .sidebar.affix {
    position: static;
  }
  
  /* First level of nav */
  .sidenav {
    margin-top: 30px;
    margin-bottom: 30px;
    padding-top:    10px;
    padding-bottom: 10px;
    border-radius: 5px;
  }
  
  /* All levels of nav */
  .sidebar .nav > li > a {
    display: block;
    padding: 5px 20px;
  }
  .sidebar .nav > li > a:hover,
  .sidebar .nav > li > a:focus {
    text-decoration: none;
    border-right: 1px solid;
  }
  .sidebar .nav > .active > a,
  .sidebar .nav > .active:hover > a,
  .sidebar .nav > .active:focus > a {
    font-weight: bold;
    background-color: transparent;
    border-right: 1px solid;
  }
  
  /* Nav: second level (shown on .active) */
  .sidebar .nav .nav {
    display: none; /* Hide by default, but at >768px, show it */
    margin-bottom: 8px;
  }
  .sidebar .nav .nav > li > a {
    padding-top:    3px;
    padding-bottom: 3px;
    padding-left: 30px;
    font-size: 90%;
  }
  
  .sidebar .nav .nav .nav > li > a {
    padding-left: 40px;
  }
  .sidebar .nav .nav .nav .nav > li > a {
    padding-left: 50px;
  }
  
  /* Show and affix the side nav when space allows it */
  @media screen and (min-width: 992px) {
    .sidebar .nav > .active > ul {
      display: block;
    }
    /* Widen the fixed sidebar */
    .sidebar.affix,
    .sidebar.affix-bottom {
      width: 213px;
    }
    .sidebar.affix-top,
    .sidebar.affix {
      position: fixed; /* Undo the static from mobile first approach */
      top: 30px;
    }
    .sidebar.affix-bottom {
      position: absolute; /* Undo the static from mobile first approach */
    }
    .sidebar.affix-bottom .sidenav,
    .sidebar.affix .sidenav {
      margin-top: 0;
      margin-bottom: 0;
    }
  }
  @media screen and (min-width: 1200px) {
    /* Widen the fixed sidebar again */
    .sidebar.affix-bottom,
    .sidebar.affix {
      width: 263px;
    }
  }
  
  #toc {
    padding: 10px 0px;
    margin:0;
    border:0;
  }
  
  
  .panel pre {
    margin: 0;
    padding: 0;
    border: 0;
  }
  button + pre {
    margin: 0;
    padding: 0;
  }
  pre code {
    border-radius: 0;
  }
  /* Magnific Popup CSS */
  .mfp-bg {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1042;
    overflow: hidden;
    position: fixed;
    background: #0b0b0b;
    opacity: 0.8;
    filter: alpha(opacity=80); }
  
  .mfp-wrap {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1043;
    position: fixed;
    outline: none !important;
    -webkit-backface-visibility: hidden; }
  
  .mfp-container {
    text-align: center;
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    padding: 0 8px;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box; }
  
  .mfp-container:before {
    content: '';
    display: inline-block;
    height: 100%;
    vertical-align: middle; }
  
  .mfp-align-top .mfp-container:before {
    display: none; }
  
  .mfp-content {
    position: relative;
    display: inline-block;
    vertical-align: middle;
    margin: 0 auto;
    text-align: left;
    z-index: 1045; }
  
  .mfp-inline-holder .mfp-content,
  .mfp-ajax-holder .mfp-content {
    width: 100%;
    cursor: auto; }
  
  .mfp-ajax-cur {
    cursor: progress; }
  
  .mfp-zoom-out-cur,
  .mfp-zoom-out-cur .mfp-image-holder .mfp-close {
    cursor: -moz-zoom-out;
    cursor: -webkit-zoom-out;
    cursor: zoom-out; }
  
  .mfp-zoom {
    cursor: pointer;
    cursor: -webkit-zoom-in;
    cursor: -moz-zoom-in;
    cursor: zoom-in; }
  
  .mfp-auto-cursor .mfp-content {
    cursor: auto; }
  
  .mfp-close,
  .mfp-arrow,
  .mfp-preloader,
  .mfp-counter {
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none; }
  
  .mfp-loading.mfp-figure {
    display: none; }
  
  .mfp-hide {
    display: none !important; }
  
  .mfp-preloader {
    color: #cccccc;
    position: absolute;
    top: 50%;
    width: auto;
    text-align: center;
    margin-top: -0.8em;
    left: 8px;
    right: 8px;
    z-index: 1044; }
  
  .mfp-preloader a {
    color: #cccccc; }
  
  .mfp-preloader a:hover {
    color: white; }
  
  .mfp-s-ready .mfp-preloader {
    display: none; }
  
  .mfp-s-error .mfp-content {
    display: none; }
  
  button.mfp-close,
  button.mfp-arrow {
    overflow: visible;
    cursor: pointer;
    background: transparent;
    border: 0;
    -webkit-appearance: none;
    display: block;
    padding: 0;
    z-index: 1046;
    -webkit-box-shadow: none;
    box-shadow: none; }
  
  button::-moz-focus-inner {
    padding: 0;
    border: 0; }
  
  .mfp-close {
    width: 44px;
    height: 44px;
    line-height: 44px;
    position: absolute;
    right: 0;
    top: 0;
    text-decoration: none;
    text-align: center;
    opacity: 0.65;
    padding: 0 0 18px 10px;
    color: white;
    font-style: normal;
    font-size: 28px;
    font-family: Arial, Baskerville, monospace; }
    .mfp-close:hover, .mfp-close:focus {
      opacity: 1; }
    .mfp-close:active {
      top: 1px; }
  
  .mfp-close-btn-in .mfp-close {
    color: #333333; }
  
  .mfp-image-holder .mfp-close,
  .mfp-iframe-holder .mfp-close {
    color: white;
    right: -6px;
    text-align: right;
    padding-right: 6px;
    width: 100%; }
  
  .mfp-counter {
    position: absolute;
    top: 0;
    right: 0;
    color: #cccccc;
    font-size: 12px;
    line-height: 18px; }
  
  .mfp-arrow {
    position: absolute;
    opacity: 0.65;
    margin: 0;
    top: 50%;
    margin-top: -55px;
    padding: 0;
    width: 90px;
    height: 110px;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0); }
  
  .mfp-arrow:active {
    margin-top: -54px; }
  
  .mfp-arrow:hover,
  .mfp-arrow:focus {
    opacity: 1; }
  
  .mfp-arrow:before, .mfp-arrow:after,
  .mfp-arrow .mfp-b,
  .mfp-arrow .mfp-a {
    content: '';
    display: block;
    width: 0;
    height: 0;
    position: absolute;
    left: 0;
    top: 0;
    margin-top: 35px;
    margin-left: 35px;
    border: medium inset transparent; }
  .mfp-arrow:after,
  .mfp-arrow .mfp-a {
    border-top-width: 13px;
    border-bottom-width: 13px;
    top: 8px; }
  .mfp-arrow:before,
  .mfp-arrow .mfp-b {
    border-top-width: 21px;
    border-bottom-width: 21px; }
  
  .mfp-arrow-left {
    left: 0; }
    .mfp-arrow-left:after,
    .mfp-arrow-left .mfp-a {
      border-right: 17px solid white;
      margin-left: 31px; }
    .mfp-arrow-left:before,
    .mfp-arrow-left .mfp-b {
      margin-left: 25px;
      border-right: 27px solid #3f3f3f; }
  
  .mfp-arrow-right {
    right: 0; }
    .mfp-arrow-right:after,
    .mfp-arrow-right .mfp-a {
      border-left: 17px solid white;
      margin-left: 39px; }
    .mfp-arrow-right:before,
    .mfp-arrow-right .mfp-b {
      border-left: 27px solid #3f3f3f; }
  
  .mfp-iframe-holder {
    padding-top: 40px;
    padding-bottom: 40px; }
  
  .mfp-iframe-holder .mfp-content {
    line-height: 0;
    width: 100%;
    max-width: 900px; }
  
  .mfp-iframe-scaler {
    width: 100%;
    height: 0;
    overflow: hidden;
    padding-top: 56.25%; }
  
  .mfp-iframe-scaler iframe {
    position: absolute;
    display: block;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.6);
    background: black; }
  
  .mfp-iframe-holder .mfp-close {
    top: -40px; }
  
  /* Main image in popup */
  img.mfp-img {
    width: auto;
    max-width: 100%;
    height: auto;
    display: block;
    line-height: 0;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    padding: 40px 0 40px;
    margin: 0 auto; }
  
  /* The shadow behind the image */
  .mfp-figure:after {
    content: '';
    position: absolute;
    left: 0;
    top: 40px;
    bottom: 40px;
    display: block;
    right: 0;
    width: auto;
    height: auto;
    z-index: -1;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.6);
    background: #444444; }
  
  .mfp-figure {
    line-height: 0; }
  
  .mfp-bottom-bar {
    margin-top: -36px;
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    cursor: auto; }
  
  .mfp-title {
    text-align: left;
    line-height: 18px;
    color: #f3f3f3;
    word-wrap: break-word;
    padding-right: 36px; }
  
  .mfp-figure small {
    color: #bdbdbd;
    display: block;
    font-size: 12px;
    line-height: 14px; }
  
  .mfp-image-holder .mfp-content {
    max-width: 100%; }
  
  .mfp-gallery .mfp-image-holder .mfp-figure {
    cursor: pointer; }
  
  @media screen and (max-width: 800px) and (orientation: landscape), screen and (max-height: 300px) {
    /**
     * Remove all paddings around the image on small screen
     */
    .mfp-img-mobile .mfp-image-holder {
      padding-left: 0;
      padding-right: 0; }
  
    .mfp-img-mobile img.mfp-img {
      padding: 0; }
  
    /* The shadow behind the image */
    .mfp-img-mobile .mfp-figure:after {
      top: 0;
      bottom: 0; }
  
    .mfp-img-mobile .mfp-bottom-bar {
      background: rgba(0, 0, 0, 0.6);
      bottom: 0;
      margin: 0;
      top: auto;
      padding: 3px 5px;
      position: fixed;
      -webkit-box-sizing: border-box;
      -moz-box-sizing: border-box;
      box-sizing: border-box; }
  
    .mfp-img-mobile .mfp-bottom-bar:empty {
      padding: 0; }
  
    .mfp-img-mobile .mfp-counter {
      right: 5px;
      top: 3px; }
  
    .mfp-img-mobile .mfp-close {
      top: 0;
      right: 0;
      width: 35px;
      height: 35px;
      line-height: 35px;
      background: rgba(0, 0, 0, 0.6);
      position: fixed;
      text-align: center;
      padding: 0; }
  
    .mfp-img-mobile .mfp-figure small {
      display: inline;
      margin-left: 5px; } }
  @media all and (max-width: 900px) {
    .mfp-arrow {
      -webkit-transform: scale(0.75);
      transform: scale(0.75); }
  
    .mfp-arrow-left {
      -webkit-transform-origin: 0;
      transform-origin: 0; }
  
    .mfp-arrow-right {
      -webkit-transform-origin: 100%;
      transform-origin: 100%; }
  
    .mfp-container {
      padding-left: 6px;
      padding-right: 6px; } }
  .mfp-ie7 .mfp-img {
    padding: 0; }
  .mfp-ie7 .mfp-bottom-bar {
    width: 600px;
    left: 50%;
    margin-left: -300px;
    margin-top: 5px;
    padding-bottom: 5px; }
  .mfp-ie7 .mfp-container {
    padding: 0; }
  .mfp-ie7 .mfp-content {
    padding-top: 44px; }
  .mfp-ie7 .mfp-close {
    top: 0;
    right: 0;
    padding-top: 0; }
  
  //Magnific overrides
  .mfp-image img{
    background: white;
  }
  .mfp-figure:after {
    background: white;
  }
  
  /*
   * Off Canvas navbar toggle right
   * --------------------------------------------------
   */
  
  @media screen and (max-width: 768px) {
    .row-offcanvas .collapsing {
    -webkit-transition: none 0;
      -moz-transition: none 0;
      transition: none 0;
    }
   .row-offcanvas .navbar {
    position: absolute;
    z-index: 2;
      right:0;
      height:100%;
      width:55px;
      border:0;
      background-color:transparent;
    }
    .row-offcanvas .navbar-toggle {
      margin-right: 5px;
      margin-left: 5px;
    }
    .row-offcanvas {
      position: relative;
    }
    .row-offcanvas-right.active .navbar {
    position: absolute;
    z-index: 2;
      right: -28.4%;
      width:40%;
      background-color:#eee;
      border:0 solid #ddd;
      border-left-width:1px;
    }
    .row-offcanvas-right.active {
      left: -30%;
    }
    .row-offcanvas-right.active .navbar-collapse {
      position: relative;
      width: 100%;
    }
    .row-offcanvas .content {
    /*width:calc(100% - 60px);*/
    }
  }
  </style>
</head>
<body>
<title>
Week 1, Lesson 5: Carrying out your R project
</title>
<div id="wrap">
<div class="container">
<div class="row row-offcanvas row-offcanvas-right">
<div class="contents col-xs-12 col-md-10">
<h1 id="wur-geoscripting-wur-logo"><a href="https://geoscripting-wur.github.io/">WUR Geoscripting</a> <img src="http://www.wageningenur.nl/upload/f9a0b5f2-15c5-4b84-9e14-20ef02f5e265_wur-logo.png" alt="WUR logo" /></h1>
<h1 id="week-1-lesson-5-carrying-out-your-r-project">Week 1, Lesson 5: Carrying out your R project</h1>
<h2 id="today-7th-january-2016">Today, 7th January, 2016</h2>
<p>Good morning! Here is what you will do today:</p>
<table>
<thead>
<tr class="header">
<th align="left">Time</th>
<th align="left">Activity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Morning</td>
<td align="left">Self-study: go through the following tutorial</td>
</tr>
<tr class="even">
<td align="left">1330 to 1430</td>
<td align="left">Johannes available for questions on the lecture and exercise description.</td>
</tr>
<tr class="odd">
<td align="left">Rest of the afternoon</td>
<td align="left">Do/finalise the exercise.</td>
</tr>
</tbody>
</table>
<h2 id="introduction">Introduction</h2>
<p>During the previous lecture, you saw some general aspects of the R language, such as an introduction to the syntax, object classes, reading of external data and function writing.</p>
<p>Today it's about carrying out a geoscripting project. This tutorial is about R, but a lot of it can be applied to other languages!</p>
<p>Scripting means that you often go beyond easy things and therefore face challenges. It is normal you will have to look for help. This lesson will guide you through ways of finding help. It continues with a couple &quot;good practices&quot; for scripting, debugging and geoscripting projects. This includes using version control and project management.</p>
<h2 id="learning-objectives">Learning objectives</h2>
<p>At the end of the lecture, you should be able to</p>
<ul>
<li>Find help for R related issues</li>
<li>Produce a reproducible example</li>
<li>Adopt some good scripting/programming habits</li>
<li>Use control flow for efficient function writing</li>
<li>Make efficient use of RStudio projects</li>
<li>Use version control to develop, maintain, and share with others your R packages</li>
</ul>
<p><strong>The two last points are particularly important, so try to go quickly over the first part of the tutorial and spend more time on projects and version control</strong></p>
<h1 id="finding-help">Finding help</h1>
<h2 id="sources-for-help">Sources for help</h2>
<p>The most important helper is the R documentation. In RStudio, just press F1 when the writing curser in the editor or console is over the function you are interested in.</p>
<p>There are many places where help can be found on the internet. So in case the function or package documentation is not sufficient for what you are trying to achieve, google is your best friend. Most likely by googling the right key words relating to your ''problem'', google will direct you to the archive of the R mailing list, or to some discussions on <a href="http://stackexchange.com/">Stack Exchange</a>. These two are reliable sources of information, and it is quite likely that the problem you are trying to figure out has already been answered before.</p>
<p>However, it may also happen that you discover a ''bug'' or something that you would qualify as abnormal behavior, or that you really have a question that no-one has ever asked (corollary: has never been answered). In that case, you may submit a question to one of the R mailing list. For general R question there is a general <a href="https://stat.ethz.ch/mailman/listinfo/r-help">R mailing list</a>, while the spatial domain has its own mailing list ( <a href="https://stat.ethz.ch/mailman/listinfo/r-sig-geo">R SIG GEO</a> ). Geo related question should be posted to this latter mailing list.</p>
<p>Warning, these mailing list have heavy mail traffic, use your mail client efficiently and set filters, otherwise it will quickly bother you.</p>
<p>These mailing lists have a few rules, and it's important to respect them in order to ensure that:</p>
<ul>
<li>no-one gets offended by your question,</li>
<li>people who are able to answer the question are actually willing to do so,</li>
<li>you get the best quality answer</li>
</ul>
<p>So, when posting to the mail list:</p>
<ul>
<li>Be courteous,</li>
<li>Provide a brief description of the problem and why you are trying to do that.</li>
<li>Provide a reproducible example that illustrate the problem, reproducing the eventual error</li>
<li>Sign with your name and your affiliation</li>
<li>Do not expect an immediate answer (although well presented question often get answered fairly quickly)</li>
</ul>
<h2 id="reproducible-examples">Reproducible examples</h2>
<p>Indispensable when asking a question to the online community, being able to write a reproducible example has many advantages:</p>
<ul>
<li>it may ensure that when you present a problem, people are able to answer your question without guessing what you are trying to do.</li>
<li><p>reproducible examples are not only to ask questions; they may help you in your thinking, developing or debugging process when writing your own functions.</p>
<ul>
<li>For instance, when developing a function to do a certain type of raster calculation, start by testing it on a small auto-generated rasterLayer object, and not directly on your actual data covering the entire universe dots.</li>
</ul></li>
</ul>
<h3 id="example-of-an-reproducible-example">Example of an reproducible example</h3>
<p>Well, one could define a reproducible example by:</p>
<ul>
<li>a piece of code that can be executed by anyone who has R, independently of the data present on his machine or any preloaded variables.</li>
<li>The computation time should not exceed a few seconds and if the code automatically downloads data, the data volume should be as small as possible.</li>
</ul>
<p><em>So basically, if you can quickly start a R session on your neighbour's computer while he is on a break, copy-paste the code without making any adjustments and see almost immediately what you want to demonstrate; congratulations, you have created a reproducible example.</em></p>
<p>Let's illustrate this by an example. I want to perform values replacements of one raster layer, based on the values of another raster Layer. (We haven't covered raster analysis in R as part of the course yet, but you will quickly understand that for certain operations rasters are analog to vectors of values).</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Create two rastersLayer objects of similar extent
library(raster)</code></pre>
<button class="warning R toggle btn btn-xs btn-warning">
<span class="glyphicon glyphicon-chevron-down"></span> R warning
</button>
<pre style=""><code class="warning r">## Warning: package 'raster' was built under R version 3.2.2
</code></pre>
<button class="message R toggle btn btn-xs btn-info">
<span class="glyphicon glyphicon-chevron-down"></span> R message
</button>
<pre style=""><code class="message r">## Loading required package: sp
</code></pre>
<button class="warning R toggle btn btn-xs btn-warning">
<span class="glyphicon glyphicon-chevron-down"></span> R warning
</button>
<pre style=""><code class="warning r">## Warning: package 'sp' was built under R version 3.2.2
</code></pre>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">r <- s <- raster(ncol=50, nrow=50)
# fill the raster with values
r[] <- 1:ncell(r)
s[] <- 2 * (1:ncell(s))
s[200:400] <- 150
s[50:150] <- 151
# perform the replacement
r[s %in% c(150, 151)] <- NA
# Visualize the result
plot(r)</code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" title="" alt="" style="display: block; margin: auto;" /></a>
</div>
</div>
</div>
<p>Useful to know when writing a reproducible example: instead of generating your own small data sets (vectors or RasterLayers, etc) as part of your reproducible example, use some of R ''built-in'' data-sets. They are part of the main R packages. Some popular data sets are: <code>cars</code>, <code>meuse.grid_ll</code>, <code>Rlogo</code>, <code>iris</code>, etc The <a href="http://en.wikipedia.org/wiki/Autocomplete">auto completion</a> menu of the <code>data()</code> function will give you an overview of the data sets available. (In RStudio like in most script editing environments auto-completion can be toggled by pressing the tab key, use it without moderation.)</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Imports the variable cars in the working environment
data(cars) 
class(cars)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] "data.frame"
</code></pre>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Visualizes the first six rows of the variable
head(cars)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">##   speed dist
## 1     4    2
## 2     4   10
## 3     7    4
## 4     7   22
## 5     8   16
## 6     9   10
</code></pre>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># The plot function on this type of dataset (class = data.frame, 2 column)
# automatically generates a scatterplot
plot(cars)</code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" title="" alt="" style="display: block; margin: auto;" /></a>
</div>
</div>
</div>
<p>Another famous data set is the meuse data set, providing all sorts of spatial variables spread across a part of the meuse watershed. The following example compiled from the help pages of the sp package.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">## Example using built-in dataset from the sp package
library(sp)
# Load required datastes
data(meuse)
# The meuse dataset is not by default a spatial object
# but its x, y coordinates are part of the data.frame
class(meuse)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] "data.frame"
</code></pre>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">coordinates(meuse) <- c("x", "y")
class(meuse)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] "SpatialPointsDataFrame"
## attr(,"package")
## [1] "sp"
</code></pre>
</div>
<p>Now that the object belongs to a spatial class, we can plot it using one of the vector plotting functions of the sp package. See the resulting in the figure below.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">bubble(meuse, "zinc", maxsize = 2.5,
       main = "zic concentrations (ppm)", key.entries = 2^(-1:4))</code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" title="" alt="" style="display: block; margin: auto;" /></a>
</div>
</div>
</div>
<p>The sp package help page contains multiple examples of how to explore its meuse built-in data set. Another example of multiple plots using <code>meuse.grid</code> is given in the figure below.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Load meuse.riv dataset
data(meuse.riv)
# Create an object of class spatialPolygons from meuse.riv
meuse.sr <- SpatialPolygons(list(Polygons(list(Polygon(meuse.riv)),"meuse.riv")))
# Load the meuse.grid dataset
data(meuse.grid)
# Assign coordinates to the dataset and make it a grid
coordinates(meuse.grid) = c("x", "y")
gridded(meuse.grid) = TRUE
# Plot all variables of the meuse.grid dataset in a multiple window spplot
spplot(meuse.grid, col.regions=bpy.colors(), main = "meuse.grid",
       sp.layout=list(
           list("sp.polygons", meuse.sr),
           list("sp.points", meuse, pch="+", col="black")
           )
       )</code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" title="" alt="" style="display: block; margin: auto;" /></a>
</div>
</div>
</div>
<h1 id="good-scriptingprogramming-habits">Good scripting/programming habits</h1>
<p>Increasing your scripting/programming efficiency goes through adopting good scripting habits. Following a couple of guidelines will ensure that your work:</p>
<ul>
<li>Can be understood and used by others</li>
<li>Can be understood and reused by you in the future</li>
<li>Can be debugged with minimal efforts</li>
<li>Can be re-used across different projects</li>
<li>Is easily accessible by others</li>
</ul>
<p>In order to achieve these objectives, you should try to follow a few good practices. The list below is not exhaustive, but already constitutes a good basis that will help you getting more efficient now and in the future when working on R projects.</p>
<ul>
<li>Comment your code</li>
<li>Write <a href="#function-writing">functions</a> for code you need more than once:
<ul>
<li>Make your functions generic and flexible, using <a href="#control-flow">control flow</a></li>
<li>Document your functions</li>
</ul></li>
<li>Follow a R <a href="http://adv-r.had.co.nz/Style.html">style guide</a>. This will make your code more readable! Most important are:
<ul>
<li>meaningful and consistent naming of files, functions, variables...</li>
<li>indentation (like in python: use space or tab to indent code in functions or loops etc.)</li>
<li>use of <code>&lt;-</code> instead of <code>=</code> as assignment operator. It's a convention.</li>
<li>placement of curly braces</li>
</ul></li>
<li><a href="#optional-writing-packages">Make your own packages</a></li>
<li>Work with <a href="#working-with-projects">projects</a></li>
<li>Keep a similar <a href="#project-structure">directory structure</a> across your projects</li>
<li>Use <a href="#version-control">version control</a> to develop/maintain your projects and packages</li>
</ul>
<p>Note that the RStudio IDE makes a lot of these good practices a lot easier and you should try to take maximum advantage of it. Take a moment to explore the menus of the RStudio session that should already be open on your machine. Particular emphasis will be given later in this tutorial on projects, project structure and use of version control.</p>
<p>Below is an example of a function written with good practices and without. First the good example:</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">ageCalculator <- function(x) {
    # Function to calculate age from birth year
    # x (numeric) is the year you were born
    if(!is.numeric(x)) {
        stop("x must be of class numeric")
    } else { # x is numeric
        # Get today's date
        date <- Sys.Date()
        # extract year from date and subtract
        year <- as.numeric(format(date, "%Y"))
        if(year <= x) {
            stop("You aren't born yet")
        }
        age <- year - x
    }
    return(age)
}

ageCalculator(1985)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] 31
</code></pre>
</div>
<p>30, what a beautiful age for learning geo-scripting.</p>
<p>Then the bad example:</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># DON'T DO THAT, BAD EXAMPLE!!!
funTest_4 <- function(x) {
if(!is.numeric(x)) {
stop("x must be of class numeric")
}
else {
a = Sys.Date()
b <- as.numeric(format(a, "%Y"))
b - x
}
}

funTest_4(1985)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] 31
</code></pre>
</div>
<p>It also works, but which of the two is the easiest to read, understand, and modify if needed? ... Exactly, the first one. So let's look back at the examples and identify some differences:</p>
<ul>
<li>Function name: Not very self descriptive in the second example</li>
<li>Function description: Missing in the second example</li>
<li>Arguments description: Missing in the second example</li>
<li>Comments: The second example has none (Okay, the first one really has a lot, but that's for the example)</li>
<li>Variables naming: use of <code>a</code> and <code>b</code> not very self descriptive in second example</li>
<li>Indentation: Missing in the second example</li>
<li>Control flow: Second example does not check for implausible dates</li>
</ul>
<p>You haven't fully understood what control flow is or you are not fully comfortable with function writing yet? We'll see more of that in the following sections.</p>
<h1 id="function-writing">Function writing</h1>
<blockquote>
<p>A function is a sequence of program instructions that perform a specific task, packaged as a unit. This unit can then be used in programs wherever that particular task should be performed. -<a href="https://en.wikipedia.org/wiki/Subroutine">Wikipedia</a></p>
</blockquote>
<p>The objective of this section is to provide some help on effective function writing. That is functions that are:</p>
<ul>
<li>simple,</li>
<li>generic and</li>
<li>flexible</li>
</ul>
<p>They should integrate well in a processing/analysis chain and be easily be re-used in a slightly different chain if needed. More flexibility in your function can be achieved through some easy control flow tricks. The following section develops this concept and provides examples.</p>
<h2 id="control-flow">Control flow</h2>
<p>Control flow refers to the use of conditions in your code that redirect the flow to different directions depending on variables values or class. Make use of that in your code, as this will make your functions more flexible and generic.</p>
<h3 id="object-classes-and-control-flow">Object classes and Control flow</h3>
<p>You have seen in a previous lesson already that every variable in your R working environment belongs to a class. You can take advantage of that, using control flow, to make your functions more flexible.</p>
<p>A quick reminder on classes</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># 5 different objects belonging to 5 different classes
a <- 12
class(a)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] "numeric"
</code></pre>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">b <- "I have a class too"
class(b)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] "character"
</code></pre>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">library(raster)
c <- raster(ncol=10, nrow=10)
class(c)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] "RasterLayer"
## attr(,"package")
## [1] "raster"
</code></pre>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">d <- stack(c, c)
class(d)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] "RasterStack"
## attr(,"package")
## [1] "raster"
</code></pre>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">e <- brick(d)
class(e)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] "RasterBrick"
## attr(,"package")
## [1] "raster"
</code></pre>
</div>
<h3 id="controlling-the-class-of-input-variables-of-a-function">Controlling the class of input variables of a function</h3>
<p>One way of making functions more auto-adaptive is by adding checks of the input variables. Using object class can greatly simplify this task. For example let's imagine that you just wrote a simple Hello World function.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">HelloWorld <- function (x) {
    hello <- sprintf('Hello %s', x)
    return(hello)
}

# Let's test it
HelloWorld('john')</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] "Hello john"
</code></pre>
</div>
<p>Obviously, the user is expected to pass an object of character vector to x. Otherwise the function will return an error. You can make it not crash by controlling the class of the input variable. For example.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">HelloWorld <- function (x) {
    if (is.character(x)) {
      hello <- sprintf('Hello %s', x)
    } else {
      hello <- warning('Object of class character expected for x')
    }
    return(hello)
}

HelloWorld(21)</code></pre>
<button class="warning R toggle btn btn-xs btn-warning">
<span class="glyphicon glyphicon-chevron-down"></span> R warning
</button>
<pre style=""><code class="warning r">## Warning in HelloWorld(21): Object of class character expected for x
</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] "Object of class character expected for x"
</code></pre>
</div>
<p>The function does not crash anymore, but returns a warning instead.</p>
<p>Note that most common object classes have their own logical function, that returns <code>TRUE</code> or <code>FALSE</code>. For example.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">is.character('john')</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] TRUE
</code></pre>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># is equivalent to 
class('john') == 'character'</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] TRUE
</code></pre>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">is.character(32)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] FALSE
</code></pre>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">is.numeric(32)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] TRUE
</code></pre>
</div>
<p>You should always try to take maximum advantage of these small utilities and check for classes and properties of your objects.</p>
<p>Also note that <code>is.character(32) == TRUE</code> is equivalent to <code>is.character(32)</code>. Therefore when checking logical arguments, you don't need to use the <code>== TRUE</code>. As an example, a function may have an argument (<code>plot</code>) that, if set to <code>TRUE</code> will generate a plot, and if set to <code>FALSE</code> does not generate a plot. It means that the function certainly contains an if statement. <code>if(plot)</code> in that case is equivalent to <code>if(plot == TRUE)</code>, it's just shorter.</p>
<p>An example, with a function that subtracts 2 RasterLayers, with the option to plot the resulting RasterLayer, or not.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">library(raster)
# Function to substract 2 rasterLayers
minusRaster <- function(x, y, plot=FALSE) { 
    z <- x - y
    if (plot) {
        plot(z)
    }
    return(z)
}

# Let's generate 2 rasters 
# that first one is the R logo raster
# converted to the raster package file format.
r <- raster(system.file("external/rlogo.grd", package="raster")) 
# The second RasterLayer is derived from the initial RasterLayer in order
# to avoid issues of non matching extent or resolution, etc
r2 <- r 
# Filling the rasterLayer with new values.
# The /10 simply makes the result more spectacular
r2[] <- (1:ncell(r2)) / 10
# simply performs the calculation
r3 <- minusRaster(r, r2) </code></pre>
</div>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Now performs the calculation and plots the resulting RasterLayer
r4 <- minusRaster(r, r2, plot=TRUE) </code></pre>
<div class="row">
<div class="col-md-offset-3 col-md-6">
<a href="#" class="thumbnail"><img src="data:image/png;base64,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" title="" alt="" style="display: block; margin: auto;" /></a>
</div>
</div>
</div>
<h2 id="try-and-debugging"><code>try</code> and debugging</h2>
<h3 id="use-of-try-for-error-handling">Use of <code>try</code> for error handling</h3>
<p>The <code>try()</code> function may help you writing functions that do not crash whenever they encounter an unknown of any kind. Anything (sub-function, piece of code) that is wrapped into <code>try()</code> will not interrupt the bigger function that contains <code>try()</code>. So for instance, this is useful if you want to apply a function sequentially but independently over a large set of raster files, and you already know that some of the files are corrupted and might return an error. By wrapping your function into <code>try()</code> you allow the overall process to continue until its end, regardless of the success of individual layers. So <code>try()</code> is a perfect way to deal with heterogeneous/unpredictable input data.</p>
<p>Also <code>try()</code> returns an object of different class when it fails. You can take advantage of that at a later stage of your processing chain to make your function more adaptive. See the example below that illustrate the use of <code>try()</code> for sequentially calculating frequency on a list of auto-generated RasterLayers.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">library(raster)

# Create a raster layer and fill it with "randomly" generated integer values
a <- raster(nrow=50, ncol=50)
a[] <- floor(rnorm(n=ncell(a)))

# The freq() function returns the frequency of a certain value in a RasterLayer
# We want to know how many times the value -2 is present in the RasterLayer
freq(a, value=-2)</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] 373
</code></pre>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Let's imagine that you want to run this function over a whole list of RasterLayer
# but some elements of the list are impredictibly corrupted
# so the list looks as follows
b <- a
c <- NA
list <- c(a,b,c)
# In that case, b and a are raster layers, c is ''corrupted''</code></pre>
</div>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Running freq(c) would return an error and crash the whole process
out <- list()
for(i in 1:length(list)) {
    out[i] <- freq(list[[i]], value=-2)
}</code></pre>
</div>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Therefore by building a function that includes a try()
# we are able to catch the error
# allowing the process to continue despite missing/corrupted data.
fun <- function(x, value) {
    tr <- try(freq(x=x, value=value), silent=TRUE)
    if (class(tr) == 'try-error') {
        return('This object returned an error')
    } else {
        return(tr)
    }
}

# Let's try to run the loop again
out <- list()
for(i in 1:length(list)) {
    out[i] <- fun(list[[i]], value=-2)
}
out</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [[1]]
## [1] 373
## 
## [[2]]
## [1] 373
## 
## [[3]]
## [1] "This object returned an error"
</code></pre>
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Note that using a function of the apply family would be a more
# elegant/shorter way to obtain the same result
(out <- sapply(X=list, FUN=fun, value=-2))</code></pre>
<button class="output R toggle btn btn-xs btn-success">
<span class="glyphicon glyphicon-chevron-down"></span> R output
</button>
<pre style=""><code class="output r">## [1] "373"                           "373"                          
## [3] "This object returned an error"
</code></pre>
</div>
<h3 id="function-debugging">Function debugging</h3>
<p>Debugging a single line of code is usually relatively easy; simply double checking the classes of all input arguments often gives good pointers to why the line crashes. But when writing more complicated functions where objects created within the function are reused later on in that same function or in a nested function, it is easy to lose track of what is happening, and debugging can then become a nightmare. A few tricks can be used to make that process less painful.</p>
<h4 id="traceback"><code>traceback()</code></h4>
<p>Here are the manual commands, which also work with RStudio:</p>
<ul>
<li><p>The first thing to investigate right after an error occurs is to run the <code>traceback()</code> function; just like that without arguments.</p></li>
<li><p>Carefully reading the return of that function will tell you where exactly in your function the error occurred.</p></li>
</ul>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">foo <- function(x) {
    x <- x + 2
    print(x)
    bar(2) 
}

bar <- function(x) { 
    x <- x + a.variable.which.does.not.exist 
    print(x)
}

foo(2) 
## gives an error

traceback()
## 2: bar(2) at #1
## 1: foo(2)
# Ah, bar() is the problem

For another example see: [rfunction.com](http://rfunction.com/archives/2562).

#### RStudio tools: 
- RStudio has great debugging tools. To force them to catch every error, select *Debug - On Error - Break in Code* in the main menu 
- Run again ``foo(2)``. 
- RStudio will stop the execution where the error happend. The traceback appears in a separate pane on the right. 
-You can and use the little green "Next" button to go line by line through the code, or the red Stop button to leave the debugging mode. 
- Reset the *On Error* behaviour to *Error Inspector*. In this default setting, RStudio will try to decide wether the error is complex enough for debugging, and then offer the options to "traceback" or "rerun the code with debugging" with two buttons in the console. 
- Finally solve the problem: </code></pre>
</div>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r">## redefine bar
bar <- function(x) {
    x + 5
}
foo(2)
## [1] 4
## [1] 7</code></pre>
</div>
<p>The debugging mode can also reached through calling <code>debug()</code>. This is not covered in this lesson, feel free to explore by yourself these debugging functionality. Refer to the reference section of this document for further information on function debugging.</p>
<h1 id="working-with-projects">Working with projects</h1>
<p><em>Pay attention, this is a very important part, and you will be requested to work with projects for all subsequent assignments of the course</em></p>
<p>RStudio allows you to work with projects. Organizing your work in different projects is a good way to stay organized and avoid getting mixed up and lost in too many files. Projects have many advantages as they:</p>
<ul>
<li>Help you stay organized</li>
<li>Make it easy to use version control</li>
<li>Easily create packages</li>
</ul>
<p>In the following sections, we will create a project to put together the functions that we have created earlier in this tutorial.</p>
<h2 id="create-a-project-in-rstudio">Create a project in RStudio</h2>
<p>To create a new project, in RStudio, go to file --&gt; New Project and then follow the menus. In an <strong>empty directory</strong> we will create a <strong>New project</strong>. You should see the dialog as in the figure below. Also tick the option to create a git repository; we will use that feature too later.</p>
<center>
<img src="figs/new_project_screenCapture.png" alt="Create a project" />
</center>
<p>This will create a new directory in which is contained a <code>projectName.Rproj</code> file; this file stores some basic information about the project.</p>
<h3 id="where-should-i-store-my-projects">Where should I store my projects?*</h3>
<p>I doesn't really matter exactly where on your computer your projects are stored, one important thing is that you store them all in the same place. This way you'll always know where to find them. So for instance if you work on Windows, you can create a directory <code>D:\Rprojects\</code> in which you will store all your projects. A new project automatically creates a new sub-directory.</p>
<h3 id="project-settings">Project Settings</h3>
<p>You shoudl aslo think about the settings for the project. In the Main menu <em>Tools - Projects's Setting</em> you can chose wether RStudio should keep the command history and always save the Workspace. If you work with large Datasets, it might make sense to switch this off, to save tiem and space.</p>
Note that you can also an configuration fiel called <code>.Rprofile</code> in the yhe root directory of the project. The settinsg in this file overwrite the settings in you user config in <code>~/Rprofile</code>. An very usefull setting here is the temp directory for <code>raster</code> by adding a line like:
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># set the temporary fodler for `raster` operations
options(rasterTmpDir='~/your_temp_dir')</code></pre>
</div>
<h3 id="switch-project">Switch project</h3>
<p>To navigate between projects, use the button in the top-right corner of RStudio. All your recently opened projects should be visible there. Basically when you start working with projects, you almost never again have to deal with the files directly, but everything happens from within RStudio, and that makes it much easier to stay organized.</p>
<h2 id="project-structure">Project structure</h2>
<p>Try to keep a consistent structure across your projects, so that it is easier for you to switch from one project to the other and immediately understand how things work. I recommend using the following structure:</p>
<ul>
<li>A <code>main.R</code> script at the root of the project. This script performs step by step the different operations of your project. It is the only non-generic part of your project (it contains paths, already set variables, etc).</li>
<li>A <code>R/</code> sub directory: This directory should contain the functions you have defined as part of your project. These functions should be as generic as possible and are <em>sourced</em> and called by the <code>main.R</code> script.</li>
<li>A <code>data/</code> sub directory: This directory contains data sets of the project. For practical reasons, only put small data sets in that directory (&lt;2-3 MB). These can be shapefiles, small rasters, csv files, but perhaps even better is to use the R archives. R offers two types of archives to store the important variables of the environments, <code>.rda</code> and <code>.rds</code>.</li>
<li>An <code>output/</code> sub directory (when applicable).</li>
</ul>
<center>
<img src="figs/project_structure_screenCapture.png" alt="project structure" />
</center>
<h3 id="working-directory">Working directory</h3>
<p>You may have learned that one of the first things to do when opening a R session is to set your working directory, using the <code>setwd()</code> command. When creating a new project, the working directory is automatically set to the root of the project. That is where your <code>main.R</code> is now located. When working with RStudio projects I do not recommend changing the working directory, if you want to access things stored in your <code>data/</code> sub directory, simply append <code>data/</code> to the beginning of the string leading to the file you want to load. If you want to point to files located outside of the project directory, use the full path (e.g. <code>D:/data/remoteSensing/landsat/scene1.tif</code>).</p>
<p>Typically the header of your main script will look like that.</p>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># John Doe
# December 2014
# Import packages
library(raster)
library(sp)
# Source functions
source('R/function1.R')
source('R/function2.R')
# Load datasets 
load('data/input_model.rda')

# Then the actual commands</code></pre>
</div>
<h3 id="bigger-data">Bigger data</h3>
<p>The <code>data/</code> directory of your project should indeed only contain relatively small data sets. When handling bigger remote sensing data sets, these should stay out of the project, where you store the rest of your data.</p>
<h3 id="example">Example</h3>
<ul>
<li><p>Create 3 files in your <code>R/</code> directory (<code>ageCalculator.R</code>, <code>HelloWorld.R</code> and <code>minusRaster.R</code>) in which you will copy paste the respective functions.</p></li>
<li><p>Create a <code>main.R</code> script at the root of your project and add some code to it. The content of the <code>main.R</code> in that case could be something as below.</p></li>
</ul>
<div class="row">
<button class="source R toggle btn btn-xs btn-primary">
<span class="glyphicon glyphicon-chevron-down"></span> R source
</button>
<pre style=""><code class="source r"># Name
# Date
library(raster)

source('R/ageCalculator.R')
source('R/HelloWorld.R')
source('R/minusRaster.R')


HelloWorld('john')
ageCalculator(2009)

# import dataset
r <- raster(system.file("external/rlogo.grd", package="raster")) 
r2 <- r 
# Filling the rasterLayer with new values.
r2[] <- (1:ncell(r2)) / 10
# Performs the calculation
r3 <- minusRaster(r, r2) </code></pre>
</div>
<h1 id="version-control">Version control</h1>
<p><strong>Important note:</strong> you need to have git installed and properly configured on your computer to do the following. Visit the <a href="http://geoscripting-wur.github.io/system_setup/">system setup page</a> for more details.</p>
<h2 id="what-is-version-control">What is version control?</h2>
<p>Have you ever worked on a project and ended up having so many versions of your work that you didn't know which one was the latest, and what were the differences between the versions? Does the image below look familiar to you? Then you need to use version control (also called revision control). You will quickly understand that although it is designed primarily for big software development projects, being able to work with version control can be very helpful for scientists as well.</p>
<center>
<img src="figs/fileNames.png" alt="file name" />
</center>
<p>The video below explains some basic concepts of version control and what the benefits of using it are.</p>
<iframe src="https://player.vimeo.com/video/41027679" width="500" height="300" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen>
</iframe>
<p>
<a href="https://vimeo.com/41027679">What is VCS? (Git-SCM) â¢ Git Basics #1</a> from <a href="https://vimeo.com/github">GitHub</a> on <a href="https://vimeo.com">Vimeo</a>.
</p>
<p>So to sum up, version control allows to keep track of:</p>
<ul>
<li>When you made changes to your files</li>
<li>Why you made these changes</li>
<li>What you changed</li>
</ul>
<p>Additionally, version control:</p>
<ul>
<li>Facilitates collaboration with others</li>
<li>Allows you to keep your code archived in a safe place (the cloud)</li>
<li>Allows you to go back to previous version of your code</li>
<li>Allows you to have experimental branches without breaking your code</li>
<li>Keep different versions of your code without having to worry about file names and archiving organization</li>
</ul>
<p>The three most popular version control software are <strong>git</strong>, <strong>subversion</strong> (abbreviated as svn), and <strong>mercurial</strong> (abbreviated as hg). In this course we will only use git.</p>
<h2 id="git">Git <img src="figs/Git_logo.png" alt="git" style="width: 80px"/></h2>
<h3 id="what-git-does">What git does</h3>
<p><strong>Git</strong> creates a <strong>local repository</strong> in your project directory (workspace).</p>
<p>Every time you make significant changes to the files in your workspace, you have to <strong>add</strong> and <strong>commit</strong> them, which means saving the changes to the history tracking of your local repository.</p>
<p>Often you also setup a <strong>remote repository</strong>, stored on an online platform like <a href="https://github.com/">github</a> or other platform. It is simply a mirror of your local repository and allows you to have your work stored in a safe place and accessible from your other computers and potential collaborators. Once in a while (at the end of the day, or every new commit if you want) you can <strong>push</strong>, which means updating the remote repository. When you want to update your local repository based on the content of a remote repository, you have to <strong>pull</strong>.</p>
<h3 id="summary-of-git-semantics">Summary of git semantics</h3>
<ul>
<li><strong>add</strong>: Tell git that you want a file or changes to be tracked. These files/changes are not yet saved in the repository! They are listed as &quot;staged&quot; in the index or staging area for the next <em>commit</em>. (RStudio: check the &quot;staged&quot; check box).</li>
<li><strong>commit</strong>: Save the <em>staged</em> changes to your <em>local repository</em>. This is like putting a milestone or taking a snapshot of your project at that moment. That milestone describes what have been changed, why and when. In the future you can always go back to that milestone.</li>
<li><strong>push</strong> : Add previous changes committed to the local repository, to the remote repository.</li>
<li><strong>pull</strong> : Update your local repository (and your working directory) with all new stuff from the remote repository.</li>
<li><strong>clone</strong> : Copy the content of a remote repository locally for the first time.</li>
<li>more advanced:
<ul>
<li><strong>branch</strong> : Create a branch (a parallel version of the code in the repository)</li>
<li><strong>checkout</strong>: load the status of a <em>branch</em> into your workspace</li>
<li><strong>merge</strong>: Merges two versions (branches) into one.</li>
</ul></li>
</ul>
<center>
<img src="figs/git-flows.svg" alt="git flows" style="width: 600px"/>
</center>
<h2 id="seting-up-git-with-rstudio">Seting up git with RStudio</h2>
<h3 id="from-rstudio">From RStudio</h3>
<p>RStudio projects become really powerful when they are combined with version control, and RStudio helps you in doing that. To illustrate that, we are going to track the project created previously with git, and push it to github.</p>
<ol style="list-style-type: decimal">
<li><em>Create a github account</em></li>
</ol>
<p>Go to <a href="https://github.com/">gitHub</a> and create an account (It's free).</p>
<ol start="2" style="list-style-type: decimal">
<li><em>Make your first commit</em>
<ul>
<li><em>Add files to version tracking</em></li>
</ul></li>
</ol>
<p>In your RStudio session opened on your <em>exampleLesson2</em> project, go to the upper right panel and open the git thumbnail. There should be a bunch of files visible in that area, check them all as &quot;staged&quot;. By checking these files, it means that you are adding them to the version tracking of the project.</p>
<p><img src="figs/git1.png" /></p>
<ul>
<ul>
<li>
<em>Commit</em>
</li>
</ul>
</ul>
<p>Now press on commit. A new window should open in which you are supposed to write a commit message to finalise your commit. Describe what you have done, then commit.</p>
<p><img src="figs/git2.png" /></p>
<p>Your git panel should now be empty. Every time you modify a file or add a new file to your project, it will appear in that panel, ready to be added and committed.</p>
<ol start="3" style="list-style-type: decimal">
<li><em>Make a new commit</em></li>
</ol>
<p>Make some minor modifications to one of the files, save your changes, see it appear in the git panel, then check it and commit again.</p>
<ol start="4" style="list-style-type: decimal">
<li><em>Create remote repository</em></li>
</ol>
<p>Go to gitHub, and select &quot;create new repository&quot;. Give it the same name as your project, and a short description, then finalize the creation of that repository.</p>
<p><img src="figs/git3.png" /></p>
<p>On the following page, there are some instructions on how to connect your local repository to the newly created remote repository.</p>
<ol start="5" style="list-style-type: decimal">
<li><em>Connect locale repository to remote</em></li>
</ol>
<p><img src="figs/git4.png" /></p>
<p>Copy the two lines provided by gitHub for the case of you already have a local repository, then go to RStudio, Tools --&gt; Shell (also available in the git panel) and paste the two lines there and execute them. You will be asked for your github username and password.</p>
<p><img src="figs/git5.png" /></p>
<p>Your project is now fully setup with version control; next time you make changes, and commit them, you can use the green ''push'' arrow to update your remote repository. Or use the ''pull'' arrow to update your local repository.</p>
<h3 id="from-new-or-existing-github-repo">From new or existing github repo</h3>
An alternative to the approach described above (perhaps easier) when starting a new project is to create the remote first on github. Use the <strong>clone URL</strong> as shown below to indicate the remote repository location to RStudio. In RStudio import it using the menus in <em>file --&gt; New project --&gt; Version Control --&gt; Git (paste url)</em>. <strong><em>This also works also with rpos of other people!</em></strong> Only than you won't be able to push to their remote.
<center>
<img src="figs/github_screenCapture.png" alt="Drawing" style="width: 600px"/>
</center>
<h3 id="git-password-and-errors">Git Password and errors</h3>
<p>When using the RStudio &quot;push&quot; button, you may see this error message from RStudio:</p>
<pre><code>error: unable to read askpass response from &#39;rpostback-askpass&#39;
fatal: could not read Username for &#39;https://github.com&#39;: Device not configured</code></pre>
<p>Also if you don't get an error, it's annoying to type your login every time you want to push to a remote.</p>
<p>There's a few ways to go about fixing the password issue.</p>
<h4 id="password-caching">Password Caching</h4>
<p>The easiest is to tell git to cache your password for the next four months (about ten million seconds) by opening a terminal and running the following command:</p>
<p><code>git config --global credential.helper 'cache --timeout=10000000'</code></p>
<p>You'll then have to force git to ask for your password once at the command line. If the remote is set-up already, this should work by running <code>git push</code> <em>within the repository directory</em> in the shell.</p>
<p>These instructions are on the GitHub help page under <a href="https://help.github.com/articles/set-up-git#platform-linux">Password Caching</a>.</p>
<h4 id="ssh-rsa-key">SSH RSA Key</h4>
<p>A permanent option is to set up git, GitHub and RStudio to use an SSH RSA key. In RStudio, click <em>Tools -&gt; Global oprions -&gt; Git/SVN -&gt; SSH RSA Key -&gt; Create RSA Key</em> then View public key and then follow these instructions to <a href="https://help.github.com/articles/generating-ssh-keys/#step-4-add-your-ssh-key-to-your-account">add your SSH key to GitHub</a>. You may need to restart RStudio before the configuration takes effect.</p>
<h1 id="optional-writing-packages">(optional) Writing packages</h1>
<p>The next step to write re-usable code is packaging it, so others can simply install and use it. If followed the steps to here, this step is not very big anymore! For this course, it is optional. find instructions <a href="packages.html">here</a> and in the <a href="#references">references</a> below.</p>
<h1 id="exercise">Exercise</h1>
<h2 id="your-task">Your task</h2>
<p>Create a RStudio project, with git version control. The project should contain a simple function to calculate whether or not a year is a leap year. Use control flow, and provide some examples of how the function works in the <code>main.R</code>. The function should behave as follows:</p>
<pre><code>&gt; is.leap(2000)
[1] TRUE

&gt; is.leap(1581)
[1] &quot;1581 is out of the valid range&quot;

&gt; is.leap(2002)
[1] FALSE

&gt; is.leap(&#39;john&#39;) #should return an error 
Error: argument of class numeric expected</code></pre>
<h2 id="useful-resources">Useful resources</h2>
<ul>
<li><a href="https://www.google.com">Google</a></li>
<li><a href="http://en.wikipedia.org/wiki/Leap_year">Leap Year</a></li>
<li><a href="http://stat.ethz.ch/R-manual/R-devel/library/base/html/Arithmetic.html">R arithmetic oprators</a></li>
</ul>
<h2 id="assessment">Assessment</h2>
<p>Assessment will consider whether the function works as intended, but also its readability and completeness (try as much as possible to use all good practices mentioned in this lecture). The structure of your project and the appropriate use of git will also be assessed.</p>
<h2 id="how-to-submit">How to submit?</h2>
<p>Put your project on your gitHub account and post the clone url in the code review forum on BlackBoard before the next day (0930)!</p>
<p>For reviewing other teams aswers:</p>
<ul>
<li>clone the repo you have to review to your computer and test it</li>
<li>you can either post your remarks in the review forum on blackboard, or try out the github feature <a href="https://guides.github.com/features/issues/">issues</a></li>
</ul>
<h1 id="references">References</h1>
<ul>
<li>Packages:
<ul>
<li>Reference document for creating R packages: <a href="http://cran.r-project.org/doc/manuals/R-exts.html">Writing R extensions</a></li>
<li>A set of good practices when creating packages: <a href="http://mages.github.io/R_package_development/#1">R package development</a></li>
</ul></li>
<li>Git:
<ul>
<li>Great 15 min interactive git commands tutorial: <a href="https://try.github.io">try.github.io</a></li>
<li>Hadley Wickham on <a href="http://r-pkgs.had.co.nz/git.html#undefined">Rstudio and git</a></li>
<li>R Studio documentation on version control: <a href="http://www.rstudio.com/ide/docs/version_control/overview">Using Version Control with RStudio</a></li>
<li>Video tutorial to use revision control with R Studio and GitHUb/BitBucket <a href="http://www.youtube.com/watch?v=jGeCCxdZsDQ&amp;noredirect=1">Youtube link</a></li>
<li>Advanced Git: <a href="http://nvie.com/posts/a-successful-git-branching-model/">A successful git branching model</a></li>
</ul></li>
<li>Debugging:
<ul>
<li>Hadely Wickham on <a href="http://adv-r.had.co.nz/Exceptions-Debugging.html">Debugging with Rstudio</a></li>
<li>Reference manual for function debugging in R: <a href="http://www.stats.uwo.ca/faculty/murdoch/software/debuggingR/">Manual</a>.
</div>
</div>
</div>
<div id="push">

</div>
<div id="footer">
<div class="container">
<p class="text-muted" id="credit">
Styled with <a href="https://github.com/jimhester/knitrBootstrap">knitrBootstrap</a>
</p>
</div>
</div>
<link rel="stylesheet" id="theme" href="https://netdna.bootstrapcdn.com/bootswatch/3.0.0/cosmo/bootstrap.min.css" media="screen"></link><link rel="stylesheet" id="highlight" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/styles/default.min.css" media="screen"></link>
</div></li>
</ul></li>
</ul>
</body>
</html>
